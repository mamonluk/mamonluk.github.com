<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Android Week#10 Apr05, 2012</title>
   <meta name="author" content="Tom Preston-Werner" />
   <link href="http://feeds.feedburner.com/tom-preston-werner" rel="alternate" title="Tom Preston-Werner" type="application/atom+xml" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

   <!-- Typekit -->
   <script type="text/javascript" src="http://use.typekit.com/jpd0pfm.js"></script>
   <script type="text/javascript">try{Typekit.load();}catch(e){}</script>





<script language="JavaScript"> 
<!-- Original by http://javascript.internet.com More javascripts http://www.hypergurl.com 
--> var NS4 = (document.layers); // Which browser? var IE4 = (document.all); 
var win = window; // window to search. var n = 0; function findInPage(str) { var 
txt, i, found; if (str == "") return false; // Find next occurance of 
the given string on the page, wrap around to the // start of the page if necessary. 
if (NS4) { // Look for match starting at the current point. If not found, rewind 
// back to the first match. if (!win.find(str)) while(win.find(str, false, true)) 
n++; else n++; // If not found in either direction, give message. if (n == 0) 
alert("Not found."); } if (IE4) { txt = win.document.body.createTextRange(); 
// Find the nth match from the top of the page. for (i = 0; i <= n && 
(found = txt.findText(str)) != false; i++) { txt.moveStart("character", 
1); txt.moveEnd("textedit"); } // If found, mark it and scroll it into 
view. if (found) { txt.moveStart("character", -1); txt.findText(str); 
txt.select(); txt.scrollIntoView(); n++; } // Otherwise, start over at the top 
of the page and find first match. else { if (n > 0) { n = 0; findInPage(str); 
} // Not found anywhere, give message. else alert("Not found."); } } 
return false; } </script>



</head>
<body>

<!-- ClickTale Top part -->
<script type="text/javascript">
var WRInitTime=(new Date()).getTime();
</script>
<!-- ClickTale end of Top part -->

<div class="site">
  <div class="title">
    <a href="/">mamonluk</a>
    <a class="extra" href="/">home</a>
  </div>
  
  <div id="post">
<h1>Android Week#10 Apr05, 2012</h1>

<p class="meta">05 Apr 2012 - San Francisco</p>


<h3>Answer for Midterm:</h3>

<p>Question 3: How would you insert file in your sd card</p>

<p>Ans: <code>adb push /john/cat.jpg /sdcard/cat.jpg</code></p>

<p>Question 4: Check if running on phone or emulator
Ans:</p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="n">String</span> <span class="nf">CellphoneOrEmulator</span><span class="o">()</span>
<span class="o">{</span>
    <span class="k">return</span><span class="o">(</span><span class="s">&quot;google_sdk.equals(Build.PRODUCT)? &quot;</span><span class="n">CELLPHONE</span><span class="s">&quot; : &quot;</span><span class="n">EMULATOR</span><span class="err">&quot;</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
</div>


<p>Question 5: How do you know how long the toast appear in seconds</p>

<p>Ans:</p>

<div class="highlight"><pre><code class="java"><span class="n">Toast</span> <span class="n">t</span> <span class="o">=</span> <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">()</span> <span class="s">&quot;whats &quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">duration</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="na">getDuration</span><span class="o">();</span>
</code></pre>
</div>


<p>Question 6: What are the intents components</p>

<p>Ans: action, data, extra data, class name</p>

<p>Question 7: create method isEmualtorUp()</p>

<p>Ans:</p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="n">String</span> <span class="nf">isEmualtorUp</span><span class="o">()</span>
<span class="o">{</span>
<span class="k">return</span><span class="o">(</span><span class="n">Build</span><span class="o">.</span><span class="na">MANUFACTURE</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">&quot;unknown&quot;</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
</div>


<p>Question 8: make a method "whoCallsMe" which means what activity called me
Ans:</p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="n">String</span> <span class="nf">whoCallsMe</span><span class="o">()</span>
<span class="o">{</span>
    <span class="k">return</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">getIntent</span><span class="o">().</span><span class="na">getData</span><span class="o">());</span>
<span class="o">}</span>
</code></pre>
</div>


<p>Question 9: Make method to return version of android device</p>

<p>Ans:</p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="kt">double</span> <span class="nf">getVersion</span><span class="o">()</span>
<span class="o">{</span>
    <span class="k">return</span><span class="o">(</span><span class="n">Android</span><span class="o">.</span><span class="na">os</span><span class="o">.</span><span class="na">Build</span><span class="o">.</span><span class="na">VERSION</span><span class="o">.</span><span class="na">SDK</span><span class="o">.</span><span class="na">INT</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
</div>


<p>Question 10: How would you avoid receiving wrong phone number</p>

<p>Ans:
<code>&lt;EditText&gt; android:inputType="Phone"</code> or <code>et.setInputType(InputType.TYPE_CLASS_PHONE);</code>
or <code>et.setInputType(InputType.TYPE_CLASS_TEXT)</code></p>

<h3>Side Note</h3>

<p>How come when given an apk file then you tried to install to other phone it doesnt work.
Ans: All application have public key and date limitation. Inside your .apk file there is limitation or expiration data. When you post your application, you need to encrypt it. put public key(google recommend that you put the min limitation for 25 years)
* creating a hash key - to keep your source code secure. If someone tried to change source code then the hash key will be change</p>

<ul>
<li>public key is a key that you publicize but private key should be kept and can be use to decrypt your code.</li>
<li>given a two big prime numbers x=p1 * p2 , note that when x is given then p1 and p2 is hard to find, it takes around 500 years to figure it out. p1 and p2 will be the private key, x will be the public key.</li>
<li><p>Notes regarding signing your application: The android system requires all install application be digitally signed with certificate whose private key held be application developer</p></li>
<li><p>android sdk automatically signs your application. Debug key</p></li>
<li>System checks the expiration of the application date only at install time
*we use keytool and jarsigner to generate key and sign the application. Finally we are using zipaline to optimize application packages. If you didn't do the following steps except zipaline then google app market will not accept your application.</li>
<li>keytool is made by sun and comes with java application</li>
<li>if you are using linux, do not use its own keytool software. User keytool made by java instead.</li>
<li>In the root of your application, you will see a file called keystore file in
<code>~/.android/debug.keystore</code> this file contains the key.</li>
<li><code>keytool -list debug.keystore</code> to view your priate key, remember you cannot cat this file bec. this is binary, the keystore is valid for 1 year after creation</li>
</ul>


<h3>How to make a key</h3>

<ul>
<li><p>How to make your own keystore (makesure you are inside ~/.android)
<code>keytool -genkey -v -Keystore release.Keystore -alias release -keyalg RSA -validity 500000 -keysize 2048</code></p></li>
<li><p>Then a bunch of question will be asked to you</p>

<ol>
<li>first question "Enter keystore password" when someone wants to install your application, this question will be asked again.</li>
<li>"What is your first and last name", you need to provide your real name because when you post it to google market it will ask for verification</li>
<li>"What is the name of your organizational unit?"</li>
<li>"what is the name of you organization?"</li>
<li>"what is the name of your city of locality?"</li>
<li>"what is the name of your state or province"</li>
<li>"what is the two_letter country code for this unit?"</li>
</ol>
</li>
<li><p>Now we need to sign our application so we achieve this by doing the ff(inside ~/.android):
<code>ant release</code></p></li>
<li><p>(inside your bin directory) type the ff:
<code>jarsigner -keystore ~/.android/release.keystore</code> then what would happen is the file would change from "helloAndroid-unsigned.apk" to "helloAndroid-signed.apk"</p></li>
<li><p><code>zipalign -v 4 name_of_your_app</code> - this is not required by google market but this will encrypt and delete all garbage files in your app. Optimizes your app.</p></li>
<li><p>How to look up for your private key
<code>keytool -list release.keystore</code> - this will show you the private key usually the last line</p></li>
</ul>


<h3>Life Cycle of Activity - OnCreate(),onStart(),OnResume(), etc</h3>

<ul>
<li><p>onCreate() is one of the method in the activity that we override.</p>

<ol>
<li>onCreate(Bundle b) - whenever activity is created this method is called</li>
<li>onStart() - as soon as your activity is showed or visible this method is called</li>
<li>onReusme() -when your acitivity starts interacting w/ user this method will be called</li>
<li>onPause() - whenever your acitivty for any reason is puase, this method will be called</li>
<li>onStop() - when activity is no longer visible to the user onStop() will be called</li>
<li>onDestry() - just before activity is being killed</li>
<li>onRestart() -</li>
</ol>
</li>
<li><p>Activity Cycle</p></li>
<li><p>Demo Code</p></li>
</ul>


<div class="highlight"><pre><code class="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">demo</span><span class="o">.</span><span class="na">Activities</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span>
<span class="o">{</span> 
    <span class="n">String</span> <span class="n">tag</span><span class="o">=</span><span class="s">&quot;Events&quot;</span><span class="o">;</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">b</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">Layout</span><span class="o">.</span><span class="na">main</span><span class="o">);</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">tag</span><span class="o">,</span> <span class="s">&quot;in onCreate&quot;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStart</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onStart</span><span class="o">();</span>
        <span class="o">---</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">tag</span><span class="o">,</span> <span class="s">&quot;in onStart&quot;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onRestart</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onRestart</span><span class="o">();</span>
        <span class="o">---</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">tag</span><span class="o">,</span> <span class="s">&quot;in onRestart&quot;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="o">---</span>
        <span class="o">---</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">tag</span><span class="o">,</span> <span class="s">&quot;in onResume&quot;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPause</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="o">---</span>
        <span class="o">---</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">tag</span><span class="o">,</span> <span class="s">&quot;in onPause&quot;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStop</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="o">---</span>
        <span class="o">---</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">tag</span><span class="o">,</span> <span class="s">&quot;in onCStop&quot;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDestroy</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="o">---</span>
        <span class="o">---</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">tag</span><span class="o">,</span> <span class="s">&quot;in onDestroy&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>


<ul>
<li>Run the demo and check logcat and you will see this

<ul>
<li>When you start your app you will see this onCreate(), onStart(), onResume();</li>
<li>When you push back button on your devicey you will see this in onPause(), onStop(), onDestroy().</li>
<li>When you click Home button and hold for couple of seconds onCreate(), onStart(), onResume().</li>
<li>When you press phone button onPause(), onStop()</li>
<li>then press back button onRestart(), onStart(), onResume().</li>
</ul>
</li>
</ul>


<p><a href="http://imgur.com/iLKaN"><img src="http://i.imgur.com/iLKaN.jpg" alt="" title="Hosted by imgur.com" /></a></p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>19 Apr 2012</span> &raquo; <a href="/2012/04/19/Android_week12.html">Android Week#12 Apr12, 2012</a></li>
    
      <li><span>12 Apr 2012</span> &raquo; <a href="/2012/04/12/Android_week11.html">Android Week#11 Apr12, 2012</a></li>
    
      <li><span>15 Mar 2012</span> &raquo; <a href="/2012/03/15/Android_week9.html">Android Week#9 Mar15, 2012</a></li>
    
  </ul>
</div>
  
  <div class="footer">
    <div class="contact">
      <p>
        mamonluk<br />
		website
        
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="https://github.com/mamonluk">github.com/mamonluk</a><br />
		<a href="http://whatsnerdy.com">whatsnerdy</a><br/>
      </p>
    </div>
    
  </div>
</div>

<a href="http://github.com/mojombo"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>

<!-- ClickTale Bottom part -->
<div id="ClickTaleDiv" style="display: none;"></div>
<script type="text/javascript">
if(document.location.protocol!='https:')
  document.write(unescape("%3Cscript%20src='http://s.clicktale.net/WRb.js'%20type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
if(typeof ClickTale=='function') ClickTale(206,0.3,"www03");
</script>
<!-- ClickTale end of Bottom part -->

<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-6016902-1");
pageTracker._trackPageview();
</script>
<!-- Google Analytics end -->



<form 
name="search" onSubmit="return findInPage(this.string.value);"> 
<div align="center"> <p><font size=3> <input name="string" 
type="text" size=15 onChange="n = 0;"> </font> <input 
type="submit" value="Search Page"> </p> </div> 
</form>
</body>
</html>
